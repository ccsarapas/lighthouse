<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Summarize variables based on measurement level — summary_report • lighthouse</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Summarize variables based on measurement level — summary_report"><meta name="description" content="Summarizes each variable passed to .... This is handled differently based
on each variable's level of measurement:
For nominal variables, returns n and proportion for each level
For binary variables, returns n and proportion TRUE
For continuous variables, returns mean and standard deviation by
default. Specify alternative summary statistics using .cont_fx.


By default, summary_report() will guess the measurement level for each
variable. This can be overridden for all variables using the .default
argument, or for select variables using the nom(), bin(), or cont()
measurement wrappers. See details."><meta property="og:description" content="Summarizes each variable passed to .... This is handled differently based
on each variable's level of measurement:
For nominal variables, returns n and proportion for each level
For binary variables, returns n and proportion TRUE
For continuous variables, returns mean and standard deviation by
default. Specify alternative summary statistics using .cont_fx.


By default, summary_report() will guess the measurement level for each
variable. This can be overridden for all variables using the .default
argument, or for select variables using the nom(), bin(), or cont()
measurement wrappers. See details."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">lighthouse</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ccsarapas/lighthouse/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Summarize variables based on measurement level</h1>
      <small class="dont-index">Source: <a href="https://github.com/ccsarapas/lighthouse/blob/main/R/group_summaries.R" class="external-link"><code>R/group_summaries.R</code></a></small>
      <div class="d-none name"><code>summary_report.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Summarizes each variable passed to <code>...</code>. This is handled differently based
on each variable's level of measurement:</p><ul><li><p>For nominal variables, returns <em>n</em> and proportion for each level</p></li>
<li><p>For binary variables, returns <em>n</em> and proportion <code>TRUE</code></p></li>
<li><p>For continuous variables, returns mean and standard deviation by
default. Specify alternative summary statistics using <code>.cont_fx</code>.</p></li>
</ul><p>By default, <code>summary_report()</code> will guess the measurement level for each
variable. This can be overridden for all variables using the <code>.default</code>
argument, or for select variables using the <code>nom()</code>, <code>bin()</code>, or <code>cont()</code>
measurement wrappers. See details.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">summary_report</span><span class="op">(</span></span>
<span>  <span class="va">.data</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  .default <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"auto"</span>, <span class="st">"nom"</span>, <span class="st">"bin"</span>, <span class="st">"cont"</span><span class="op">)</span>,</span>
<span>  .drop <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .cont_fx <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">mean</span>, <span class="va">sd</span><span class="op">)</span>,</span>
<span>  .missing_label <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  na.rm <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  na.rm.nom <span class="op">=</span> <span class="va">na.rm</span>,</span>
<span>  na.rm.bin <span class="op">=</span> <span class="va">na.rm</span>,</span>
<span>  na.rm.cont <span class="op">=</span> <span class="va">na.rm</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">nom</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">bin</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">cont</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--data">.data<a class="anchor" aria-label="anchor" href="#arg--data"></a></dt>
<dd><p>a data frame or data frame extension.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>&lt;<code><a href="https://dplyr.tidyverse.org/reference/dplyr_tidy_select.html" class="external-link">tidy-select</a></code>&gt; one or more variable names.
and/or tidyselect expressions. Elements may be wrapped in <code>nom()</code>, <code>bin()</code>,
or <code>cont()</code> to force summarizing as binary, nominal, or continuous,
respectively; see details.</p></dd>


<dt id="arg--default">.default<a class="anchor" aria-label="anchor" href="#arg--default"></a></dt>
<dd><p>how to determine measurement level for variables if not
specified by a measurement wrapper. <code>"auto"</code> will guess measurement level
for each variable, while <code>"nom"</code>, <code>"bin"</code>, and <code>"cont"</code> will treat all
unwrapped variables as nominal, binary, or continuous, respectively.</p></dd>


<dt id="arg--drop">.drop<a class="anchor" aria-label="anchor" href="#arg--drop"></a></dt>
<dd><p>if <code>FALSE</code>, frequencies for nominal variables will include
counts for empty groups (i.e. for levels of factors that don't exist in the
data).</p></dd>


<dt id="arg--cont-fx">.cont_fx<a class="anchor" aria-label="anchor" href="#arg--cont-fx"></a></dt>
<dd><p>a list containing the two functions with which continuous
variables will be summarized.</p></dd>


<dt id="arg--missing-label">.missing_label<a class="anchor" aria-label="anchor" href="#arg--missing-label"></a></dt>
<dd><p>label for missing values in nominal variables.</p></dd>


<dt id="arg-na-rm">na.rm<a class="anchor" aria-label="anchor" href="#arg-na-rm"></a></dt>
<dd><p>if <code>TRUE</code>, <code>NA</code> values in each variable will be dropped prior to
computation.</p></dd>


<dt id="arg-na-rm-nom-na-rm-bin-na-rm-cont">na.rm.nom, na.rm.bin, na.rm.cont<a class="anchor" aria-label="anchor" href="#arg-na-rm-nom-na-rm-bin-na-rm-cont"></a></dt>
<dd><p>control <code>NA</code> handling specifically for
nominal, binary, or continuous variables. Overrides <code>na.rm</code> for that
variable type.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="determining-measurement-level">Determining measurement level<a class="anchor" aria-label="anchor" href="#determining-measurement-level"></a></h2>


<p>The measurement level for each variable is determined as follows:</p><ol><li><p>Variables wrapped in <code>nom()</code>, <code>bin()</code>, or <code>cont()</code> will be treated
as nominal, binary, or continuous, respectively.</p></li>
<li><p>Variables without a measurement wrapper will be treated as the type
specified in <code>.default</code>.</p></li>
<li><p>If <code>.default</code> is <code>"auto"</code>, measurement level will be inferred:</p><ul><li><p>Logical vectors will be treated as binary if there are no missing
values or if <code>na.rm.bin = TRUE</code>.</p></li>
<li><p>Character vectors, factors, and logical vectors with missing
values will be treated as nominal.</p></li>
<li><p>All other variables will be treated as continuous.</p></li>
</ul></li>
</ol></div>
    <div class="section level2">
    <h2 id="support-for-binary-variables">Support for binary variables<a class="anchor" aria-label="anchor" href="#support-for-binary-variables"></a></h2>


<p>To be treated as binary, both of these must be true:</p><ol><li><p>The variable must be either a logical vector, or a binary numeric
vector containing only 0s and 1s.</p></li>
<li><p>The variable must not include any missing values, or <code>na.rm.bin</code>
must be set to <code>TRUE</code>.</p></li>
</ol><p>Future extensions may allow handling of other dichotomous variables (e.g.,
<code>"Pregnant"</code> vs. <code>"Not pregnant"</code>), but this is not currently supported.
Instead, consider converting these to a logical indicator, e.g., <code>Pregnant = PregnancyStatus == "Pregnant"</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># create a report using pre-processed SOR data</span></span></span>
<span class="r-in"><span><span class="va">total_label</span> <span class="op">&lt;-</span> <span class="st">"SOR-II Overall"</span></span></span>
<span class="r-in"><span><span class="va">data_baseline</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span><span class="fu"><a href="group_with_total.html">group_with_total</a></span><span class="op">(</span><span class="va">ServiceType</span>, .label <span class="op">=</span> <span class="va">total_label</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">summary_report</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">Age</span>, <span class="va">Gender</span>, <span class="va">Race</span>,</span></span>
<span class="r-in"><span>    <span class="fu">bin</span><span class="op">(</span><span class="va">DAUseAlcohol</span>, <span class="va">DAUseIllegDrugs</span>, <span class="va">DAUseBoth</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="va">DAUseAlcoholDays</span>, <span class="va">DAUseIllegDrugsDays</span>, <span class="va">DAUseBothDays</span>,</span></span>
<span class="r-in"><span>    <span class="va">DAUseAlcoholDaysOrdinal</span>, <span class="va">DAUseIllegDrugsDaysOrdinal</span>, <span class="va">DAUseBothDaysOrdinal</span>,</span></span>
<span class="r-in"><span>    na.rm <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>    .drop <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">pivot_wider</span><span class="op">(</span></span></span>
<span class="r-in"><span>    names_from <span class="op">=</span> <span class="va">ServiceType</span>,</span></span>
<span class="r-in"><span>    names_vary <span class="op">=</span> <span class="st">"slowest"</span>,</span></span>
<span class="r-in"><span>    values_from <span class="op">=</span> <span class="va">V1</span><span class="op">:</span><span class="va">V2</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/relocate.html" class="external-link">relocate</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="va">total_label</span><span class="op">)</span>, .after <span class="op">=</span> <span class="va">Value</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_rows_at_value.html">add_rows_at_value</a></span><span class="op">(</span><span class="va">Variable</span>, <span class="va">Race</span>, <span class="va">DAUseBoth</span>, <span class="va">DAUseBothDays</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="print_all.html">print_all</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>lighthouse</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

